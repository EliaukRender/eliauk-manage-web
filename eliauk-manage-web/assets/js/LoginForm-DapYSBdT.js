import{e as b,a6 as C,a7 as B,r as p,K as _,j as I,a8 as e,m as s,$ as L,k as f,O as U,ag as z,a9 as N,Z as g,o as $,a0 as w,ah as q,ai as O,E as S}from"./index-BTBHkkXw.js";/* empty css                  */import{E as T,a as h}from"./el-input-OovJa_i3.js";import{E as j}from"./index-CitTIOcT.js";import{E as D}from"./index-JthwlCVN.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./event-CelxogyL.js";const K=k=>({code:200,message:"success",data:{token:"token"}}),M={class:"login-btn"},Z=b({__name:"LoginForm",setup(k){const v=C(),F=B(),n=p(),E=_({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),l=p(!1),t=_({username:"",password:""}),V=a=>{a&&a.validate(async o=>{if(o){l.value=!0;try{const{data:u}=await K({...t});F.setToken(u.token),await z(),v.push(N)}finally{l.value=!1}}})},y=a=>{a&&a.resetFields()};return(a,o)=>{const u=g("user"),i=S,m=D,d=h,x=g("lock"),R=T,c=j;return $(),I(U,null,[e(R,{ref_key:"loginFormRef",ref:n,model:t,rules:E,size:"large"},{default:s(()=>[e(d,{prop:"username"},{default:s(()=>[e(m,{modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=r=>t.username=r),placeholder:"用户名：任意输入"},{prefix:s(()=>[e(i,{class:"el-input__icon"},{default:s(()=>[e(u)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{prop:"password"},{default:s(()=>[e(m,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.password=r),type:"password",placeholder:"密码：任意输入","show-password":"",autocomplete:"new-password"},{prefix:s(()=>[e(i,{class:"el-input__icon"},{default:s(()=>[e(x)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),L("div",M,[e(c,{icon:f(q),round:"",size:"large",onClick:o[2]||(o[2]=r=>y(n.value))},{default:s(()=>[w(" 重置 ")]),_:1},8,["icon"]),e(c,{icon:f(O),round:"",size:"large",type:"primary",loading:l.value,onClick:o[3]||(o[3]=r=>V(n.value))},{default:s(()=>[w(" 登录 ")]),_:1},8,["icon","loading"])])],64)}}}),Y=H(Z,[["__scopeId","data-v-fcfbaf51"]]);export{Y as default};
